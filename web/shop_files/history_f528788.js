define("common:widget/ui/history/history.js",function(e,n,o){var t="",r="",c="",a={nowTpl:null,tplOpts:{},record:function(e){e=e||{};var n="/wolfman/static/common/newhistory_e7da5f4.html",o=document.fmHistory,t=e.url?e.url:"name:"+e.name;t=encodeURIComponent(t),this.nowTpl=t,o.url.value=t,1!=e.history&&(T.g("wHistory").src=T.browser.ie>0||T.browser.chrome>0||T.browser.safari>0?n+"?url="+encodeURIComponent(t):n+"?url="+encodeURIComponent(t),e._mapInfo={center:map.getCenter(),level:map.getZoom()},this.tplOpts[t]=e),this.setQuery(t,e)},setQuery:function(n,o){var a=e("common:widget/ui/config/config.js"),s=a.modelConfig,i=window.currentComponent._className;switch(i){case"RouteSearch":case"RouteAddr":case"BusTrans":case"NavTrans":case"NavWalk":case"NavBike":case"CBusTrans":c=decodeURIComponent(n);break;case"PoiSearch":case"Clarify":case"PoiAddr":case"SearchInView":r=decodeURIComponent(n);break;case"CountryIndex":case"ProvinceIndex":case"CityIndex":case"AreaIndex":default:var u=o.json&&o.json.content&&o.json.content.cname?o.json.content.cname:s.cityName;r=t="cur&wd="+encodeURIComponent(u)}},getSearchQuery:function(){return r},getRouteQuery:function(){return c},getCityQuery:function(){return t},clearRouteQuery:function(){c=""},clearSearchQuery:function(){r=""},clearCityQuery:function(){t=""}};window.MapHistory=a,o.exports=a});